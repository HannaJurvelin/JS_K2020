<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="styles.css">
  <title>Workshop 3: JavaScript Events</title>
</head>

<body>

</body>

</html>

<script>

  var today = new Date();
  var d = today.getDate();
  var m = today.getMonth() + 1;
  var y = today.getFullYear();

  today = d + '.' + m + '.' + y;

  function firstButton() {
    alert("You clicked me! Today is: " + today);
  }

  function showTable() {
    var table = document.getElementById("table");

    if (table.style.display === "block") {
      table.style.display = "none";
    } else {
      table.style.display = "block";
    }
  }

  var persons = [
    ["Nyssa P. Skinner", "593-4241 Lacus, St.", "Cape Verde"],
    ["Camilla F. Strickland", "391-2150 Ac Rd.", "Andorra"],
    ["Reagan U. Andrews", "P.O. Box 472, 2271 Mauris Ave", "Faroe Islands"],
    ["Kelsey D. Clark", "P.O. Box 866, 7793 Aliquet Ave", "Bulgaria"]
  ];

  function createTable() {
    let tbl = document.createElement("table");
    for (rivi = 0; rivi < persons.length; rivi++) {
      var tr = tbl.insertRow();
      for (sarake = 0; sarake < persons[rivi].length; sarake++) {
        var td = tr.insertCell();
        td.appendChild(document.createTextNode(persons[rivi][sarake]));
      }
    }
    document.getElementById("toggle").innerHTML = "";
    document.getElementById("toggle").appendChild(tbl);
  }

  function mouseOver() {
    var msg = ("Stepped over my a mouse!");
    console.log(msg);
  }

  function mouseOut() {
    var msg = ("Bye bye mouse!");
    alert(msg);
  }

  function onFocus(x) {
    document.getElementById("textdata").innerHTML = "Please fill in the form with proper data.";
    x.style.background = "#feffde";
  }

  var keyPressCount = 0;

  function onKey() {
    keyPressCount++;
    document.getElementById("textdata").innerHTML = keyPressCount;
  }

  function validateForm() {
    if (document.getElementById("textdata").value == ""); {
      alert("Please add text!");
    }
}

</script>

<h1>Workshop 3: JavaScript Events</h1>

<h2>Exercise 1</h2>
<p>Click the buttons!</p>
<p>
  <button id="btn1" class="btn" onclick="firstButton()">Button 1</button>
  <button class="btn" onclick="showTable()">Button 2</button>
  <button class="btn" onclick="createTable()">Button 3</button>
</p>

<div id="toggle"></div>

<table id="table" class="display" cellspacing="0" width="100%">
  <thead>
    <tr>
      <th>Name</th>
      <th>Position</th>
      <th>Salary</th>
    </tr>
  </thead>
  <tfoot>
  </tfoot>
  <tbody>
    <tr>
      <td>Tiger Nixon</td>
      <td>System Architect</td>
      <td>$320,800</td>
    </tr>
    <tr>
      <td>Garrett Winters</td>
      <td>Accountant</td>
      <td>$170,750</td>
    </tr>
    <tr>
      <td>Ashton Cox</td>
      <td>Junior Technical Author</td>
      <td>$86,000</td>
    </tr>
    <tr>
      <td>Cedric Kelly</td>
      <td>Senior Javascript Developer</td>
      <td>$433,060</td>
    </tr>
    <tr>
      <td>Airi Satou</td>
      <td>Accountant</td>
      <td>$162,700</td>
    </tr>

  </tbody>
</table>
<br>

<h2 onmouseover="mouseOver()" onmouseout="mouseOut()">Exercise 2</h2>

<p>Can you find the mouse?</p>

<h2>Exercise 3</h2>
<p>Add text to form. Try pressing keys inside textarea.</p>

<form>
  <textarea id="textdata" onfocus="onFocus(this)" onkeydown="onKey()"></textarea><br>
  <button onclick="validateForm()">Send me</button>
</form>
<h2>Exercise 4</h2>
So far you have hardcoded the events into HTML tags. Make a copy of your exercise file and try to add the events
dynamically, without touching the HTML at all. This can be
achieved using addEventListener() -function, <a target="_blank"
  href="https://www.w3schools.com/js/js_htmldom_eventlistener.asp"> see more here</a>.

<h2>Exercise 5</h2>

<div id="coordinates"></div>

<p>Add onMouseMove -event to the DIV-element above. When you move mouse over the DIV (rectangle) the program should
  output the coordinates of your pointer. Try first
  outputting to the console using console.log. <p>HINT. When the event occurs, call for a method showXY(event); Then in
    the actual method you can output data from the
    mouse event using event.clientX and event.clientY variables. Study the event object in the console and what data you
    can find in it.</p>
  <p> When the program is working, you can try outputting the text on the H2 element with an id "coords" the box</p>
  HINT: You need to use
  document.getElementById("coordinates").innerHTML to achieve this.

  <H2>Exercise 6</h2>
  <button>Get location</button>
  <button>Show location</button>

  <li>The first button should check <a href="https://www.w3schools.com/html/html5_geolocation.asp">Geolocation</a> of
    the user, and output it to the console and to the
    page. Note: Some browsers might not allow you to do this. Try different browsers if you get errors.</li>
  <li>
    The second button should show your location on a Google Maps. You can see the map with a spesific location using the
    URL
    "https://maps.googleapis.com/maps/api/staticmap?center="+latlon+"&zoom=14&size=400x300&sensor=false" where latlon is
    your latitude + longitute data separated by
    comma (,).
  </li>

  </html>